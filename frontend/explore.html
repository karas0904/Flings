<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explore</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Serif+Display:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: Arial, sans-serif;
        background: #000;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        margin: 0;
      }

      .blur-shape {
        position: absolute;
        width: 250px;
        height: 500px;
        border-radius: 50px;
        filter: blur(100px);
        z-index: -1;
        opacity: 0.4;
      }

      .red-shape {
        background: rgba(255, 0, 0, 0.7);
        top: -50px;
        left: -100px;
        transform: rotate(45deg);
      }

      .blue-shape {
        background: rgba(135, 206, 250, 0.7);
        bottom: -50px;
        right: -100px;
        transform: rotate(45deg);
      }

      .phone-box {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 360px;
        height: 700px;
        background: #fff;
        border-radius: 20px;
        box-shadow: 10px 10px 30px rgba(0, 0, 0, 0.5);
        z-index: 10;
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }

      .profile-list {
        flex-grow: 1;
        overflow-y: scroll;
        scroll-snap-type: y mandatory;
        -webkit-overflow-scrolling: touch;
        padding: 0;
        outline: none;
        -ms-overflow-style: none; /* Hide scrollbar in IE and Edge */
        scrollbar-width: none; /* Hide scrollbar in Firefox */
        transition: filter 0.7s ease-in-out, opacity 0.7s ease-in-out; /* Add base transition for smoothness */
      }

      /* Hide scrollbar in Chrome, Safari, and Opera */
      .profile-list::-webkit-scrollbar {
        display: none;
      }

      .profile-card {
        background: #f5f5f5; /* Existing background */
        border-radius: 0px;
        height: 700px;
        scroll-snap-align: start;
        scroll-snap-stop: always;
        display: flex;
        flex-direction: column;
        justify-content: flex-end; /* Move content to the bottom */
        align-items: flex-start; /* Align items to the left */
        padding: 20px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .profile-card::before {
        content: "";
        position: absolute;
        top: 0; /* Start from the top */
        left: 0;
        right: 0;
        height: 100%; /* Full height of the card */
        background-image: linear-gradient(
          to top,
          /* Direction from bottom to top */ rgba(0, 0, 0, 0.8) 0%,
          /* Semi-transparent black at the bottom */ rgba(0, 0, 0, 0.9) 35%,
          /* Slightly lighter shade at 20% (140px) */ transparent 90%
            /* Fully fade to transparent by 40% (280px) */
        );
        z-index: 1; /* Behind all content */
      }

      .profile-image {
        width: 100%; /* Fill the full width of the phone-box */
        height: 100%; /* Fill the full height of the phone-box */
        object-fit: cover; /* Ensure the image fills the space without distortion */
        position: absolute; /* Position the image absolutely within the profile card */
        top: 0;
        left: 0;
        z-index: 0; /* Place the image behind other content */
      }

      .profile-info {
        padding: 35px 10px; /* Reduced top padding from 90px to 10px */
        text-align: left;
        z-index: 2; /* Ensure it’s above the gradient and image */
        margin-bottom: 60px; /* Add space above the buttons (adjust as needed) */
      }

      @font-face {
        font-family: "Agraham";
        src: url("fonts/Agraham.otf") format("opentype"); /* OTF format */
        font-weight: normal;
        font-style: normal;
      }

      .profile-info h3 {
        margin: 10px;
        font-size: 22px;
        font-family: "Agraham", sans-serif;
        color: #fbfafa;
      }
      .profile-age {
        font-family: "Noto Serif Display", serif;
        font-optical-sizing: auto;
        font-style: normal;
        font-variation-settings: "wdth" 100;
        font-size: 20px; /* Match the h3 size */
        color: #ffffff; /* Match the h3 color */
      }

      .profile-info p {
        margin: 0px;
        font-size: 13px;
        padding-top: 0px;
        padding-left: 10px;
        color: #ffffff;
      }

      .profile-details-box {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #fff;
        border-radius: 20px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        z-index: 20;
        display: flex;
        flex-direction: column;
        padding: 20px;
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        transition: opacity 0.7s ease-in-out, transform 0.7s ease-in-out,
          visibility 0.7s ease-in-out;
        overflow-y: auto; /* Enable scrolling when content overflows */
        -webkit-overflow-scrolling: touch; /* Smooth scrolling on touch devices */
      }

      .profile-details-box.active {
        opacity: 1; /* Fully visible */
        visibility: visible; /* Fully interactive */
        transform: translateY(0); /* Slide to original position */
        transition: opacity 0.7s ease-in-out, transform 0.7s ease-in-out,
          visibility 0.7s ease-in-out; /* Ensure matching transition for disappearance */
      }

      /* Close Button in Profile Details Box */
      .profile-details-close {
        position: fixed !important;
        width: 30px;
        height: 30px;
        background-color: rgba(2, 2, 2, 0.84); /* #f7e3e3d7 equivalent */
        box-shadow: 5px 1px 20px rgba(0, 0, 0, 0.2); /* Added shadow color */
        top: 15px;
        right: 15px;
        border-radius: 50%; /* Simplified */
        display: flex; /* Enable flexbox */
        justify-content: center; /* Center horizontally */
        align-items: center; /* Center vertically */
        font-size: 20px;
        color: #f9f7f7;
        cursor: pointer;
        z-index: 25;
      }

      /* Profile List Blur and Fade */
      .profile-list.blur {
        filter: blur(10px);
        opacity: 0.3;
        transition: filter 0.7s ease-in-out, opacity 0.9s ease-in-out;
        pointer-events: none; /* Disable interactions while blurred */
      }

      /* Profile Details Content */
      .profile-details-content {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        padding-top: 50px;
        padding-bottom: 50px;
        text-align: center;
      }

      .profile-details-box::-webkit-scrollbar {
        display: none; /* Hide scrollbar in Chrome, Safari, and Opera */
      }
      .profile-details-box {
        -ms-overflow-style: none; /* Hide scrollbar in IE and Edge */
        scrollbar-width: none; /* Hide scrollbar in Firefox */
      }

      .profile-details-content h3 {
        font-size: 24px;
        margin-bottom: 10px;
        color: #333;
      }

      .profile-details-content p {
        font-size: 16px;
        color: #666;
        margin-bottom: 10px;
      }

      /* Ensure profile text is clickable */
      .profile-info h3,
      .profile-info p {
        cursor: pointer;
      }

      .button-container {
        position: absolute;
        bottom: 20px;
        left: 20px;
        right: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 2;
      }

      .heart-button {
        width: 50px;
        height: 50px;
        background: #ffd1d1;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        font-size: 24px;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: transform 0.3s ease, color 0.3s ease;
      }

      .heart-button:hover {
        width: 55px;
        height: 55px;
        transition: 0.3s;
      }

      .heart-button.active {
        color: #ff4d4d;
      }

      .no-named-button {
        width: 50px;
        height: 50px;
        background: #000;
        border: 1px solid #ccc;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 16px;
        color: #fff;
      }

      .no-named-button:hover {
        width: 55px;
        height: 55px;
        transition: 0.3s;
      }

      /* Modify the .comment-inbox class to add a 3d effect */
      .comment-inbox {
        flex-grow: 1;
        margin: 0 10px;
        background: #f5f5f5;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
        color: #666;
        font-style: italic;

        transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smooth transitions */
      }

      /* Add hover effect to enhance 3D feel */
      .comment-inbox:hover {
        transform: perspective(1000px) rotateX(0deg); /* Straighten on hover */
        box-shadow: 7px 7px 20px rgba(0, 0, 0, 0.25),
          -2px -2px 10px rgba(251, 249, 249, 0.8); /* Enhance shadow on hover */
      }

      /* Modify the .comment-input class to match the 3D style */
      .comment-input {
        width: 100%;
        height: 40px;
        padding: 10px;
        border-radius: 20px; /* Match the parent border-radius */
        font-size: 14px;
        color: #333;
        border: none; /* Remove border for a cleaner look */
        background: #e0e0e0; /* Slightly darker background for depth */

        transition: box-shadow 0.3s ease; /* Smooth transition for focus */
      }

      /* Enhance focus state for 3D effect */
      .comment-input:focus {
        outline: none;
      }

      /* Rest of your CSS remains unchanged */
      .external-buttons {
        position: absolute;
        top: calc(50% + 190px);
        left: calc(50% + 195px);
        transform: translateY(-50%);
        display: flex;
        flex-direction: column;
        gap: 15px;
        z-index: 15;
      }

      .external-buttons button {
        width: 50px;
        height: 50px;
        background: rgba(255, 255, 255, 0.2);
        border: 0px solid rgba(255, 255, 255, 0.5);
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 18px;
        color: #fff;
        transition: background 0.3s ease;
      }

      .external-buttons button:hover {
        background: rgba(255, 255, 255, 0.4);
      }

      /* Default Save Button */
      .external-buttons button[title="Save"] {
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 255, 255, 0.25),
          rgba(255, 255, 255, 0.1) 70%,
          rgba(255, 255, 255, 0.05)
        ); /* Radial gradient for dome effect */
        border: none; /* No border */
        border-radius: 50%; /* Perfect circle for droplet shape */
        width: 50px;
        height: 50px;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 18px;
        color: #fff;
        transition: background 0.3s ease, transform 0.3s ease,
          box-shadow 0.3s ease;
        backdrop-filter: blur(
          10px
        ); /* Stronger blur for frosted glass effect */
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2),
          /* Outer shadow for depth */ inset 0 4px 8px rgba(255, 255, 255, 0.5),
          /* Stronger inner highlight for dome */ inset 0 -2px 6px rgba(0, 0, 0, 0.15); /* Inner shadow for depth */
        transform: perspective(500px) translateZ(5px); /* Slight 3D perspective for dome */
      }

      /* Save Button Icon (Default - Border Only) */
      .external-buttons button[title="Save"] i {
        font-weight: 400; /* Ensures outline style for unfilled icon */
      }

      /* Save Button Active (Filled Icon) */
      .external-buttons button[title="Save"].saved {
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 255, 255, 0.45),
          rgba(255, 255, 255, 0.2) 70%,
          rgba(255, 255, 255, 0.05)
        ); /* Even brighter gradient when saved */
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3),
          /* Stronger outer shadow for depth */ inset 0 4px 12px
            rgba(255, 255, 255, 0.7),
          /* Very bright highlight */ inset 0 -2px 6px rgba(0, 0, 0, 0.25); /* Darker inner shadow */
        transform: perspective(500px) translateZ(3px); /* Slightly pressed down for interaction */
      }

      /* Save Button Icon (Filled) */
      .external-buttons button[title="Save"].saved i {
        font-weight: 900; /* Filled icon style */
        color: #fff; /* Ensure filled icon is visible */
      }

      /* Share Button */
      .external-buttons button[title="Share"] {
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 255, 255, 0.25),
          rgba(255, 255, 255, 0.1) 70%,
          rgba(255, 255, 255, 0.05)
        ); /* Radial gradient for dome effect */
        border: none; /* No border */
        border-radius: 50%; /* Perfect circle for droplet shape */
        width: 50px;
        height: 50px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #fff;
        cursor: pointer;
        transition: background 0.3s ease, transform 0.3s ease,
          box-shadow 0.3s ease;
        backdrop-filter: blur(
          10px
        ); /* Stronger blur for frosted glass effect */
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2),
          /* Outer shadow for depth */ inset 0 4px 8px rgba(255, 255, 255, 0.5),
          /* Stronger inner highlight for dome */ inset 0 -2px 6px rgba(0, 0, 0, 0.15); /* Inner shadow for depth */
        transform: perspective(500px) translateZ(5px); /* Slight 3D perspective for dome */
      }

      /* Updated Share options popup (the "slide") to appear on top of phone-box */
      .share-options {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 360px;
        background: rgba(233, 237, 233, 0.992); /* Light green grassy effect */
        border-radius: 15px 15px 0 0;
        box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
        padding: 15px;
        flex-direction: row;
        justify-content: center;
        gap: 20px;
        z-index: 20;
        transform: translateY(100%); /* Start below phone-box */
        opacity: 0; /* Fully transparent */
        max-height: 0; /* Collapsed height */
        overflow: hidden; /* Prevent content from showing when collapsed */
        transition: transform 0.5s ease, opacity 0.5s ease, max-height 0.5s ease; /* Animate all */
        border: 1px solid rgba(235, 241, 235, 0.465);
      }

      /* Active state for share options (slide up) */
      .share-options.active {
        max-height: 150px;
        opacity: 1;
        transform: translateY(0); /* Slide up to be fully visible */
      }

      /* Individual share options (WhatsApp and Twitter) */
      .share-option {
        background: transparent;
        border: none;
        border-radius: 0;
        padding: 20px 15px;
        font-size: 16px;
        color: #040404;
        cursor: pointer;
        text-align: center;
        transition: color 0.3s ease, transform 0.2s ease;
        font-family: Arial, sans-serif;
        display: flex;
        align-items: center;
        gap: 10px;
        position: relative; /* For underline effect */
      }

      /* Hover state for share options */
      .share-option:hover {
        color: #000000; /* Change text color on hover */
        transform: translateY(-5px); /* Slight lift for interaction */
      }

      /* Icon styling (if icons are added) */
      .share-option i {
        font-size: 18px; /* Adjust icon size */
        color: inherit; /* Inherit color from parent */
      }

      /* Specific styling for WhatsApp */
      .share-option.whatsapp {
        position: relative;
      }

      /* Underline effect for WhatsApp on hover */
      .share-option.whatsapp::after {
        content: "";
        position: absolute;
        bottom: 5px; /* Position the line below the text */
        left: 0;
        width: 0; /* Start with no width */
        height: 2px; /* Thickness of the line */
        background: #25d366; /* WhatsApp green color */
        transition: width 0.4s ease; /* Smooth width transition */
      }

      /* Expand the line on hover for WhatsApp */
      .share-option.whatsapp:hover::after {
        width: 100%; /* Expand to full width */
      }

      /* Specific styling for Twitter */
      .share-option.twitter {
        position: relative;
      }

      /* Optional: Underline effect for Twitter on hover (if desired) */
      .share-option.twitter::after {
        content: "";
        position: absolute;
        bottom: 5px; /* Position the line below the text */
        left: 0;
        width: 0; /* Start with no width */
        height: 2px; /* Thickness of the line */
        background: #1da1f2; /* Twitter blue color */
        transition: width 0.4s ease; /* Smooth width transition */
      }

      /* Expand the line on hover for Twitter (if desired) */
      .share-option.twitter:hover::after {
        width: 100%; /* Expand to full width */
      }

      .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 30px;
        background-color: transparent;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000;
      }

      .navbar .logo {
        font-size: 24px;
        font-weight: bold;
        font-family: Arial, sans-serif;
        color: #fff;
      }

      .navbar .nav-links {
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        align-items: center;
      }

      .navbar .nav-links a {
        font-size: 18px;
        font-family: Arial, sans-serif;
        color: rgba(255, 255, 255, 0.8);
        text-decoration: none;
        margin: 0 10px;
        transition: color 0.3s;
      }

      .navbar .nav-links a:hover {
        color: #fff;
      }

      .navbar .nav-links a:nth-child(2) {
        margin: 0 10px;
        color: rgba(255, 255, 255, 0.8);
        cursor: default;
      }

      .navbar .nav-links a:nth-child(2):hover {
        color: rgba(255, 255, 255, 0.8);
      }

      .navbar .hamburger {
        font-size: 24px;
        color: #fff;
        cursor: pointer;
        transition: opacity 0.3s ease;
        z-index: 1100;
        position: relative;
      }

      .navbar .hamburger.hidden {
        opacity: 0;
        pointer-events: none;
      }

      .side-navbar {
        height: 100%;
        width: 450px;
        position: fixed;
        top: 0;
        right: -450px;
        background: rgba(0, 0, 0, 0.325);
        box-shadow: -2px 0 5px rgba(0, 0, 0, 0.2);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        transition: right 0.3s ease;
        padding: 20px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        color: #fff;
        z-index: 1000;
      }

      .side-navbar.active {
        right: 0 !important;
        z-index: 1200;
      }

      .close-icon {
        position: absolute;
        top: 15px;
        right: 15px;
        font-size: 24px;
        color: #fff;
        cursor: pointer;
        z-index: 1200;
      }

      .side-navbar .top-items {
        padding-top: 60px;
        text-align: left;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
      }

      .side-navbar .top-items a {
        color: #fff;
        text-decoration: none;
        display: block;
        padding: 8px 0;
        font-size: 15px;
        transition: transform 0.3s ease, filter 0.3s ease;
      }

      .side-navbar .top-items a:hover {
        transform: scale(1.05);
      }

      .side-navbar .top-items a {
        filter: none;
      }

      .side-navbar .top-items .description {
        font-size: 10px;
        font-style: italic;
        color: white;
        margin-top: 1px;
        margin-bottom: 8px;
      }

      .side-navbar .bottom-buttons {
        margin-bottom: 20px;
      }

      .side-navbar .bottom-buttons button {
        display: block;
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        font-size: 16px;
        color: #fff;
        background-color: rgba(57, 55, 55, 0.484);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .side-navbar .bottom-buttons button:hover {
        background-color: rgba(255, 255, 255, 0.2);
      }

      .side-navbar .bottom-buttons button.delete-account {
        background-color: rgba(250, 37, 37, 0.7);
        border: 0px solid rgba(250, 37, 37, 0.7);
      }

      .side-navbar .bottom-buttons button.delete-account:hover {
        background-color: rgba(255, 87, 87, 0.9);
      }

      .account-section {
        display: flex;
        align-items: center;
        height: 90px;
        margin-bottom: 20px;
      }

      .account-image {
        width: 120px;
        height: 150px;
        object-fit: cover;
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.3);
        margin-right: 15px;
      }

      .account-info .account-name {
        margin-top: 80px;
        font-size: 18px;
        font-weight: bold;
        color: #fff;
      }

      .account-info .account-details {
        font-size: 10px;
        font-style: italic;
        color: rgba(255, 255, 255, 0.8);
        margin-top: 2px;
      }

      .side-navbar .middle-left {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        margin-left: 20px;
        margin-top: 50%;
      }

      .side-navbar .middle-left a {
        color: #fff;
        text-decoration: none;
        font-size: 15px;
        padding: 8px 0;
        transition: transform 0.3s ease, filter 0.3s ease;
      }

      .side-navbar .middle-left a:hover {
        transform: scale(1.05);
      }

      .side-navbar .middle-left .description {
        font-size: 10px;
        font-style: italic;
        color: white;
        margin-top: 1px;
        margin-bottom: 8px;
      }

      /* Default Rose Button */
      .rose-button {
        background: rgba(
          255,
          119,
          144,
          0.8
        ) !important; /* Exact pink shade as original */
        border: none; /* No border */
        border-radius: 50%; /* Perfect circle for droplet shape */
        width: 50px;
        height: 50px;
        cursor: pointer;
        display: flex;
        backdrop-filter: none;
        justify-content: center;
        align-items: center;
        font-size: 18px;
        color: #fff;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        backdrop-filter: blur(
          10px
        ); /* Stronger blur for frosted glass effect */
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2),
          /* Outer shadow for depth */ inset 0 4px 8px rgba(255, 255, 255, 0.3),
          /* Stronger inner highlight for dome */ inset 0 -2px 6px rgba(0, 0, 0, 0.15); /* Inner shadow for depth */
        transform: perspective(500px) translateZ(5px); /* Slight 3D perspective for dome */
        overflow: hidden;
        position: relative;
        z-index: 20;
      }

      /* Rose Button Icon */
      .rose-button .rose-icon {
        width: 40px;
        height: 40px;
        transition: transform 0.3s ease; /* Smooth icon scaling on hover */
      }

      /* Rose Button Hover */
      .rose-button:hover {
        transform: perspective(500px) translateZ(10px) scale(1.1); /* Lift and scale for 3D effect */
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25),
          /* Enhanced outer shadow */ inset 0 4px 10px rgba(255, 255, 255, 0.6),
          /* Brighter inner highlight */ inset 0 -2px 6px rgba(0, 0, 0, 0.2); /* Slightly darker inner shadow */
      }

      /* Rose Button Active */
      .rose-button.active {
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3),
          /* Stronger outer shadow for depth */ inset 0 4px 12px
            rgba(255, 255, 255, 0.7),
          /* Very bright highlight */ inset 0 -2px 6px rgba(0, 0, 0, 0.25); /* Darker inner shadow */
        transform: perspective(500px) translateZ(3px); /* Slightly pressed down for interaction */
      }

      /* Rose Button Active Icon */
      .rose-button.active .rose-icon {
        transform: scale(1.1); /* Slight scale up for feedback */
      }

      /* Shine Effect on Click */
      .rose-button::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%; /* Start off-screen to the left */
        width: 30%; /* Width of the shine */
        height: 100%;
        background: linear-gradient(
          120deg,
          transparent,
          rgba(255, 255, 255, 0.8) 50%,
          transparent
        ); /* Sharp shine gradient */
        transform: skewX(-20deg); /* Skew for a dynamic shine effect */
        transition: none; /* No transition by default */
        pointer-events: none; /* Ensure shine doesn't interfere with clicks */
      }

      /* Trigger Shine Animation on Click */
      .rose-button.shine::after {
        animation: shine 0.6s linear forwards; /* Run shine animation */
      }

      /* Shine Animation Keyframes */
      @keyframes shine {
        0% {
          left: -100%;
        }
        60% {
          left: 100%; /* Move across the button */
        }
        100% {
          left: 100%; /* Stay off-screen to the right */
        }
      }

      /* Default Buddy Button */
      .buddy-button {
        background: radial-gradient(
          circle at 30% 30%,
          rgba(255, 255, 255, 0.25),
          rgba(255, 255, 255, 0.1) 70%,
          rgba(255, 255, 255, 0.05) x
        ) !important; /* Radial gradient for dome effect */
        border: none;
        border-radius: 50%;
        width: 50px;
        height: 50px;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 18px;
        color: #fff !important;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        backdrop-filter: blur(5px);
        box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2),
          inset 0 4px 8px rgba(255, 255, 255, 0.3),
          inset 0 -2px 6px rgba(0, 0, 0, 0.15);
        transform: perspective(500px) translateZ(5px);
        overflow: hidden;
        position: relative;
        z-index: 21;
      }

      /* Buddy Button Icon */
      .buddy-button .buddy-icon {
        width: 30px;
        height: 30px;
        transition: transform 0.3s ease;
      }

      /* Buddy Button Hover */
      .buddy-button:hover {
        transform: perspective(500px) translateZ(10px) scale(1.1);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25),
          inset 0 4px 10px rgba(255, 255, 255, 0.6),
          inset 0 -2px 6px rgba(0, 0, 0, 0.2);
      }

      /* Buddy Button Active */
      .buddy-button.active {
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3),
          inset 0 4px 12px rgba(255, 255, 255, 0.7),
          inset 0 -2px 6px rgba(0, 0, 0, 0.25);
        transform: perspective(500px) translateZ(3px);
      }

      /* Buddy Button Active Icon */
      .buddy-button.active .buddy-icon {
        transform: scale(1.1);
      }

      /* Shine Effect on Click for Buddy Button */
      .buddy-button::after {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 30%;
        height: 100%;
        background: linear-gradient(
          120deg,
          transparent,
          rgba(255, 255, 255, 0.8) 50%,
          transparent
        );
        transform: skewX(-20deg);
        transition: none;
        pointer-events: none;
      }

      /* Trigger Shine Animation on Click for Buddy Button */
      .buddy-button.shine::after {
        animation: shine 0.6s linear forwards;
      }

      @keyframes heartbeat {
        0% {
          transform: scale(1);
        }
        20% {
          transform: scale(1.2);
        }
        40% {
          transform: scale(1);
        }
        60% {
          transform: scale(1.2);
        }
        80% {
          transform: scale(1);
        }
        100% {
          transform: scale(1.2);
        }
      }

      .rose-button-container {
        position: relative;
      }

      @keyframes slideInBeside {
        0% {
          opacity: 0;
          right: -50px;
        }
        100% {
          opacity: 1;
          right: -100px;
        }
      }

      @keyframes slideOutBeside {
        0% {
          opacity: 1;
          right: -100px;
        }
        100% {
          opacity: 0;
          right: -50px;
        }
      }
    </style>
  </head>
  <body>
    <div class="blur-shape red-shape"></div>
    <div class="blur-shape blue-shape"></div>

    <div class="phone-box">
      <div class="profile-list" id="profileList" tabindex="0"></div>
      <div class="profile-details-box" id="profileDetailsBox">
        <div class="profile-details-close" onclick="closeProfileDetails()">
          ✕
        </div>
        <div class="profile-details-content" id="profileDetailsContent"></div>
      </div>
      <!-- Moved share-options inside phone-box -->
      <div class="share-options" id="shareOptions">
        <div class="share-option whatsapp" data-platform="whatsapp">
          <i class="fab fa-whatsapp"></i> WhatsApp
        </div>
        <div class="share-option twitter" data-platform="twitter">
          <i class="fab fa-twitter"></i> Twitter
        </div>
      </div>
    </div>

    <div class="external-buttons">
      <div class="rose-button-container">
        <button title="Rose" class="rose-button">
          <img src="rose-icon.svg" alt="Rose" class="rose-icon" />
        </button>
      </div>
      <div class="buddy-button-container">
        <button title="Buddy" class="buddy-button">
          <img
            src="buddy-icon.png"
            alt="Buddy"
            class="buddy-icon"
            style="
              filter: brightness(0) saturate(100%) invert(100%) sepia(0%)
                saturate(1%) hue-rotate(149deg) brightness(103%) contrast(101%);
            "
          />
        </button>
      </div>
      <button title="Save">
        <i class="fa-solid fa-bookmark"></i>
      </button>
      <button title="Share" id="shareButton">
        <i class="fa-solid fa-paper-plane"></i>
      </button>
    </div>

    <nav class="navbar">
      <div class="logo">Amourette</div>
      <div class="nav-links">
        <a href="">explore</a>
        <a href="">|</a>
        <a href="trending.html">trending</a>
      </div>
      <div class="hamburger" onclick="toggleSidebar()">☰</div>
    </nav>

    <div class="side-navbar" id="sideNavbar">
      <div class="close-icon" onclick="toggleSidebar()">✕</div>
      <div class="top-items">
        <div class="account-section">
          <a href="account.html">
            <img
              src="try-image.jpg"
              alt="Account Image"
              class="account-image"
            />
          </a>
          <div class="account-info">
            <div class="account-name">John Doe</div>
            <div class="account-details">Age: 21 | Study Year: 3rd</div>
          </div>
        </div>
        <div class="middle-left">
          <a href="messages.html">MESSAGES</a>
          <div class="description">(See what your connections have to say)</div>
          <a href="saves.html">SAVES</a>
          <div class="description">(See the accounts you have saved)</div>
        </div>
      </div>
      <div class="bottom-buttons">
        <button onclick="logout()">Logout</button>
        <button class="delete-account" onclick="deleteAccount()">
          Delete Account
        </button>
      </div>
    </div>

    <!-- Keep all HTML and CSS as is, only replace the <script> section -->
    <script>
      // Function to clear URL parameters
      function clearUrlParams() {
        const url = new URL(window.location);
        url.search = ""; // Clear all query parameters
        window.history.replaceState({}, document.title, url);
      }

      // Function to store the JWT token
      function storeToken() {
        const urlParams = new URLSearchParams(window.location.search);
        const token = urlParams.get("token");
        if (token) {
          localStorage.setItem("jwtToken", token);
          console.log("JWT token stored:", token);
          clearUrlParams(); // Clear the token from the URL for security
        }
      }

      // Function to fetch user profile from backend
      async function fetchUserProfile() {
        const token = localStorage.getItem("jwtToken");
        if (!token) {
          console.error("No JWT token found in localStorage");
          return;
        }

        try {
          const response = await fetch("http://localhost:3000/api/profile", {
            method: "GET",
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${token}`,
            },
          });

          if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.message || "Failed to fetch profile");
          }

          const userData = await response.json();
          console.log("Fetched user profile:", userData);
          updateSidebar(userData);
        } catch (error) {
          console.error("Error fetching profile:", error);
        }
      }

      // Function to fetch all profiles from backend
      async function fetchProfiles() {
        const token = localStorage.getItem("jwtToken");
        if (!token) {
          console.error("No JWT token found in localStorage");
          return [];
        }

        try {
          const response = await fetch("http://localhost:3000/api/profiles", {
            method: "GET",
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${token}`,
            },
          });

          if (!response.ok) {
            const errorData = await response.json();
            throw new Error(errorData.message || "Failed to fetch profiles");
          }

          const profiles = await response.json();
          console.log("Fetched profiles:", profiles);
          return profiles;
        } catch (error) {
          console.error("Error fetching profiles:", error);
          return [];
        }
      }

      function updateSidebar(userData) {
        const accountImage = document.querySelector(".account-image");
        const accountName = document.querySelector(".account-name");
        const accountDetails = document.querySelector(".account-details");

        // Use the first photo from the photos array, if available
        if (userData.photos && userData.photos.length > 0) {
          accountImage.src = userData.photos[0];
        } else {
          accountImage.src = "default-profile.jpg"; // Fallback image
        }
        accountName.textContent = userData.firstName || "Unknown";
        accountDetails.textContent = `Age: ${userData.age || "N/A"} | Year: ${
          userData.year || "N/A"
        }`;
      }

      document.addEventListener("DOMContentLoaded", async function () {
        // Call storeToken and fetchUserProfile on page load
        storeToken();
        fetchUserProfile();

        let loadedProfiles = 0;
        const profilesPerPage = 1;
        let profiles = []; // Array to store fetched profiles

        // Fetch profiles when the page loads
        profiles = await fetchProfiles();

        function loadProfiles() {
          const profileList = document.getElementById("profileList");
          const start = loadedProfiles;
          const end = Math.min(
            loadedProfiles + profilesPerPage,
            profiles.length
          );

          if (profiles.length === 0 || start >= profiles.length) {
            const noMoreProfiles = document.createElement("div");
            noMoreProfiles.classList.add("profile-card");
            noMoreProfiles.textContent = "No more profiles to show";
            noMoreProfiles.style.textAlign = "center";
            noMoreProfiles.style.fontSize = "18px";
            noMoreProfiles.style.color = "#666";
            profileList.appendChild(noMoreProfiles);
            return;
          }

          for (let i = start; i < end; i++) {
            const profile = profiles[i];
            const profileCard = document.createElement("div");
            profileCard.classList.add("profile-card");

            const profileImage = document.createElement("img");
            profileImage.classList.add("profile-image");
            profileImage.src = profile.image;
            profileImage.alt = `${profile.name}'s profile image`;

            const profileInfo = document.createElement("div");
            profileInfo.classList.add("profile-info");

            const profileNameAge = document.createElement("h3");
            profileNameAge.innerHTML = `${profile.name}, <span class="profile-age">${profile.age}</span>`;
            const profileDetails = document.createElement("p");
            profileDetails.classList.add("profile-details");
            profileDetails.textContent = `${profile.hometown} | ${profile.year} | ${profile.department}`;
            const profileBio = document.createElement("p");
            profileBio.classList.add("profile-bio");
            profileBio.textContent = profile.bio;

            profileInfo.appendChild(profileNameAge);
            profileInfo.appendChild(profileDetails);
            profileInfo.appendChild(profileBio);

            const buttonContainer = document.createElement("div");
            buttonContainer.classList.add("button-container");

            const noNamedButton = document.createElement("button");
            noNamedButton.classList.add("no-named-button");
            noNamedButton.innerHTML = '<i class="fa-solid fa-ban"></i>';

            const commentInbox = document.createElement("div");
            commentInbox.classList.add("comment-inbox");
            const commentInput = document.createElement("input");
            commentInput.type = "text";
            commentInput.placeholder = "Add a comment...";
            commentInput.classList.add("comment-input");
            commentInbox.appendChild(commentInput);

            const heartButton = document.createElement("button");
            heartButton.classList.add("heart-button");
            heartButton.innerHTML = '<i class="fa-solid fa-heart"></i>';

            buttonContainer.appendChild(noNamedButton);
            buttonContainer.appendChild(commentInbox);
            buttonContainer.appendChild(heartButton);

            profileCard.appendChild(profileImage);
            profileCard.appendChild(profileInfo);
            profileCard.appendChild(buttonContainer);

            profileList.appendChild(profileCard);

            heartButton.addEventListener("click", function () {
              this.classList.add("active");
              setTimeout(() => {
                this.style.animation = "heartbeat 1s ease";
                this.addEventListener(
                  "animationend",
                  () => {
                    this.style.animation = "";
                  },
                  { once: true }
                );
              }, 100);
            });

            [profileNameAge, profileDetails, profileBio].forEach((element) => {
              element.addEventListener("click", () =>
                showProfileDetails(profile)
              );
            });

            noNamedButton.addEventListener("click", function () {
              currentProfileIndex++;
              if (currentProfileIndex >= loadedProfiles) {
                if (loadedProfiles < profiles.length) {
                  loadProfiles();
                } else {
                  currentProfileIndex = loadedProfiles - 1;
                }
              }
              scrollToProfile(currentProfileIndex);
            });
          }

          loadedProfiles = end;

          if (start === 0) {
            scrollToProfile(0);
          }
        }

        loadProfiles();

        function isNearBottom(element) {
          const lastProfile = element.lastElementChild;
          if (!lastProfile) return false;
          const lastProfileRect = lastProfile.getBoundingClientRect();
          const containerRect = element.getBoundingClientRect();
          return lastProfileRect.bottom <= containerRect.bottom + 50;
        }

        function scrollToProfile(index) {
          const profileList = document.getElementById("profileList");
          const profilesElements = profileList.children;
          if (index >= 0 && index < profilesElements.length) {
            const profileHeight = profilesElements[index].offsetHeight;
            const targetPosition = index * profileHeight;
            profileList.scrollTo({
              top: targetPosition,
              behavior: "smooth",
            });
          }
        }

        let currentProfileIndex = 0;

        document
          .getElementById("profileList")
          .addEventListener("scroll", function () {
            const profileList = this;
            const profilesElements = profileList.children;

            for (let i = 0; i < profilesElements.length; i++) {
              const profileRect = profilesElements[i].getBoundingClientRect();
              const containerRect = profileList.getBoundingClientRect();
              if (
                profileRect.top >= containerRect.top - 50 &&
                profileRect.bottom <= containerRect.bottom + 50
              ) {
                currentProfileIndex = i;
                break;
              }
            }

            if (isNearBottom(profileList) && loadedProfiles < profiles.length) {
              loadProfiles();
            }
          });

        document
          .getElementById("profileList")
          .addEventListener("keydown", function (event) {
            if (event.key === "ArrowDown") {
              event.preventDefault();
              currentProfileIndex++;
              if (currentProfileIndex >= loadedProfiles) {
                currentProfileIndex = loadedProfiles - 1;
                if (loadedProfiles < profiles.length) {
                  loadProfiles();
                }
              }
              scrollToProfile(currentProfileIndex);
            } else if (event.key === "ArrowUp") {
              event.preventDefault();
              currentProfileIndex--;
              if (currentProfileIndex < 0) {
                currentProfileIndex = 0;
              }
              scrollToProfile(currentProfileIndex);
            }
          });

        document.getElementById("profileList").setAttribute("tabindex", "0");
        document.getElementById("profileList").focus();

        function logout() {
          localStorage.removeItem("jwtToken");
          window.location.href = "index.html"; // Redirect to login page
        }

        function deleteAccount() {
          alert("Delete Account button clicked!"); // Implement actual deletion later
        }

        document
          .querySelectorAll(".side-navbar .top-items a")
          .forEach((link) => {
            link.addEventListener("mouseenter", () => {
              document
                .querySelectorAll(".side-navbar .top-items a")
                .forEach((otherLink) => {
                  if (otherLink !== link) {
                    otherLink.style.filter = "blur(2px)";
                  }
                });
            });

            link.addEventListener("mouseleave", () => {
              document
                .querySelectorAll(".side-navbar .top-items a")
                .forEach((otherLink) => {
                  otherLink.style.filter = "none";
                });
            });
          });

        document
          .querySelector(".rose-button")
          .addEventListener("click", function () {
            this.classList.toggle("active");
          });

        function showProfileDetails(profile) {
          const profileList = document.getElementById("profileList");
          const profileDetailsBox =
            document.getElementById("profileDetailsBox");
          const profileDetailsContent = document.getElementById(
            "profileDetailsContent"
          );

          profileList.classList.add("blur");

          profileDetailsContent.innerHTML = `
              <h3>${profile.name}, ${profile.age}</h3>
              <p>${profile.hometown} | ${profile.year} | ${
            profile.department
          }</p>
              <p><strong>Bio:</strong> ${profile.bio}</p>
              <img src="${profile.image}" alt="${
            profile.name
          }'s profile image" style="width: 150px; height: 150px; border-radius: 50%; margin: 20px auto;">
              ${
                profile.interests
                  ? `<p><strong>Interests:</strong> ${profile.interests.join(
                      ", "
                    )}</p>`
                  : ""
              }
              ${
                profile.hobbies
                  ? `<p><strong>Hobbies:</strong> ${profile.hobbies.join(
                      ", "
                    )}</p>`
                  : ""
              }
              ${
                profile.favoriteQuote
                  ? `<p><strong>Favorite Quote:</strong> "${profile.favoriteQuote}"</p>`
                  : ""
              }
              ${
                profile.additionalInfo
                  ? `<p><strong>About Me:</strong> ${profile.additionalInfo}</p>`
                  : ""
              }
              <p style="margin-bottom: 100px;"> </p>
            `;

          profileDetailsBox.classList.add("active");
        }

        window.closeProfileDetails = function () {
          const profileList = document.getElementById("profileList");
          const profileDetailsBox =
            document.getElementById("profileDetailsBox");

          profileDetailsBox.classList.remove("active");

          setTimeout(() => {
            profileList.classList.remove("blur");
          }, 700);
        };

        const profileDetailsBox = document.getElementById("profileDetailsBox");
        profileDetailsBox.addEventListener(
          "wheel",
          (event) => {
            event.stopPropagation();
          },
          { passive: false }
        );
        profileDetailsBox.addEventListener(
          "touchmove",
          (event) => {
            event.stopPropagation();
          },
          { passive: false }
        );

        const shareButton = document.querySelector('button[title="Share"]');
        const shareOptions = document.querySelector(".share-options");

        if (shareButton && shareOptions) {
          shareButton.addEventListener("click", (e) => {
            e.stopPropagation();
            shareOptions.classList.toggle("active");
          });

          document.addEventListener("click", (e) => {
            if (
              !shareOptions.contains(e.target) &&
              !shareButton.contains(e.target)
            ) {
              shareOptions.classList.remove("active");
            }
          });

          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") {
              shareOptions.classList.remove("active");
            }
          });

          function shareProfile(platform) {
            const profile = profiles[currentProfileIndex];
            const shareUrl = `${window.location.origin}/profile?id=${profile.id}`;
            const shareText = `Check out ${profile.name}'s profile on Amourette: ${profile.bio}`;

            switch (platform) {
              case "whatsapp":
                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(
                  shareText + " " + shareUrl
                )}`;
                window.open(whatsappUrl, "_blank");
                break;
              case "twitter":
                const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(
                  shareText
                )}&url=${encodeURIComponent(shareUrl)}`;
                window.open(twitterUrl, "_blank");
                break;
              default:
                alert(`Sharing on ${platform} is not supported yet.`);
            }

            shareOptions.classList.remove("active");
          }

          document.querySelectorAll(".share-option").forEach((option) => {
            option.addEventListener("click", () => {
              const platform = option.getAttribute("data-platform");
              shareProfile(platform);
            });
          });
        } else {
          console.error(
            "Share button or share options container not found in the DOM."
          );
        }
        function saveProfile(category, profile) {
          // Get existing profiles from localStorage, or initialize an empty array
          const existingProfiles =
            JSON.parse(localStorage.getItem(category)) || [];

          // Check if the profile is already saved (to avoid duplicates)
          const isAlreadySaved = existingProfiles.some(
            (p) => p.id === profile.id
          );
          if (!isAlreadySaved) {
            // Add the new profile to the array
            existingProfiles.push(profile);
            // Save the updated array back to localStorage
            localStorage.setItem(category, JSON.stringify(existingProfiles));
            console.log(`Profile saved to ${category}:`, profile);
          } else {
            console.log(`Profile already exists in ${category}:`, profile);
          }
        }

        // Modify the rose-button event listener
        document
          .querySelector(".rose-button")
          .addEventListener("click", function () {
            this.classList.toggle("active");
            this.classList.add("shine");
            setTimeout(() => {
              this.classList.remove("shine");
            }, 600);

            // Save the current profile to "efforts"
            const currentProfile = profiles[currentProfileIndex];
            if (currentProfile) {
              saveProfile("efforts", currentProfile);
            } else {
              console.error("No profile selected to save under Efforts.");
            }
          });

        // Modify the buddy-button event listener
        document
          .querySelector(".buddy-button")
          .addEventListener("click", function () {
            this.classList.toggle("active");
            this.classList.add("shine");
            setTimeout(() => {
              this.classList.remove("shine");
            }, 600);

            // Save the current profile to "buddyUp"
            const currentProfile = profiles[currentProfileIndex];
            if (currentProfile) {
              saveProfile("buddyUp", currentProfile);
            } else {
              console.error("No profile selected to save under Buddy Up.");
            }
          });
      });

      document
        .querySelector('button[title="Save"]')
        .addEventListener("click", function () {
          this.classList.toggle("saved");
        });

      document
        .querySelector(".buddy-button")
        .addEventListener("click", function () {
          this.classList.toggle("active");
          this.classList.add("shine");
          setTimeout(() => {
            this.classList.remove("shine");
          }, 600);
        });

      document
        .querySelector(".rose-button")
        .addEventListener("click", function () {
          this.classList.toggle("active");
          this.classList.add("shine");
          setTimeout(() => {
            this.classList.remove("shine");
          }, 600);
        });

      function toggleSidebar() {
        const sideNavbar = document.getElementById("sideNavbar");
        const hamburger = document.querySelector(".hamburger");
        const isActive = sideNavbar.classList.toggle("active");

        if (isActive) {
          hamburger.classList.add("hidden");
        } else {
          hamburger.classList.remove("hidden");
        }
      }
    </script>
  </body>
</html>
